const e=require("path"),r=require("path-exists"),t=require("rimraf"),o=require("./routes"),s=require("./interactiveFileReplacement");module.exports=async function({destDir:a}){const i=e.join(a,"src/pages/IceworksPreviewPage");t.sync(i);let n=e.join(a,"src/routes.jsx");if(r.sync(n)||(n=e.join(a,"src/router.js")),r.sync(n)){const e=new s({file:n,tagPrefix:"// \x3c!-- auto generated routes start --\x3e",tagSuffix:"// \x3c!-- auto generated routes end --\x3e"}),r=o._parseRoute(e.getFileContent());o.removeImports(r.program.body,[{type:"page",ref:"IceworksPreviewPage"}]),o.removeRouteByPageName(r.program.body,"IceworksPreviewPage");const{code:t}=o._generateRoute({type:"Program",body:r.program.body});e.replace(t)}};