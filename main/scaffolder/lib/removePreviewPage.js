const e=require("path"),r=require("fs"),o=require("rimraf"),t=require("./routes"),s=require("./interactiveFileReplacement");module.exports=async function({destDir:a}){const i=e.join(a,"src/pages/IceworksPreviewPage");o.sync(i);let n=e.join(a,"src/routes.jsx");r.existsSync(n)||(n=e.join(a,"src/router.js"));const c=new s({file:n,tagPrefix:"// \x3c!-- auto generated routes start --\x3e",tagSuffix:"// \x3c!-- auto generated routes end --\x3e"}),u=t._parseRoute(c.getFileContent());t.removeImports(u.program.body,[{type:"page",ref:"IceworksPreviewPage"}]),t.removeRouteByPageName(u.program.body,"IceworksPreviewPage");const{code:g}=t._generateRoute({type:"Program",body:u.program.body});c.replace(g)};