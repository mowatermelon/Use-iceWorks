const e=require("rimraf"),r=require("fs"),n=require("path"),t=require("mkdirp"),c=require("request"),i=require("../../../lib/interactiveFileReplacement"),o=n.join(__dirname,"tmp");e.sync(o),t.sync(o),module.exports=(async()=>{let t=n.join(o,"src/routes.jsx");r.existsSync(t)||(t=n.join(o,"src/router.js")),r.writeFileSync(t,"\n// \x3c!-- replace start --\x3e\nconst foo = [];\n// \x3c!-- replace end --\x3e\nconst bar = [1, 3, 4];\nexport default [...foo, ...bar];\n  "),new i({file:t,tagPrefix:"// \x3c!-- replace start --\x3e",tagSuffix:"// \x3c!-- replace end --\x3e"}).replace("const foo = ['hello', 'world'];"),r.readFileSync(t,"utf-8").should.match(/hello/),e.sync(o)});