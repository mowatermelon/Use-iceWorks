const s=require("./manager"),e=require("./startLogDetection");class t{constructor(){this.sessions={}}start(t,n=(()=>{})){const i=s.new(t,n);this.sessions[t.cwd]=i,i.on("data",s=>{e(t.cwd,s)}),i.on("exit",()=>{this.delete(t.cwd)})}stop(s){this.sessions[s]&&(this.sessions[s].emit("data","\n\r\u5df2\u4e2d\u6b62\u8c03\u8bd5\u670d\u52a1\n\r"),this.sessions[s].destroy())}delete(s){delete this.sessions[s]}has(s){return!!this.sessions[s]}checkRuning(){return Object.keys(this.sessions).length>0}}module.exports=new t;