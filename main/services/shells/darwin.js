const{spawn:e}=require("child_process"),r=require("app-path"),{Shell:n}=require("./shared"),a=n.Terminal;function t(e){switch(e){case n.Terminal:return"com.apple.Terminal";case n.iTerm2:return"com.googlecode.iterm2";default:throw new Error(`Unknown shell: ${e}`)}}async function l(e){const n=t(e);try{return await r(n)}catch(e){return null}}exports.Default=a,exports.parse=function(e){return e===n.Terminal?n.Terminal:e===n.iTerm2?n.iTerm2:a},exports.getAvailableShells=async function(){const[e,r]=await Promise.all([l(n.Terminal),l(n.iTerm2)]),a=[];return e&&a.push({shell:n.Terminal,path:e}),r&&a.push({shell:n.iTerm2,path:r}),a},exports.launch=async function(r,n){const a=["-b",t(r.shell),n];await e("open",a)};